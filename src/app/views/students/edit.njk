{% extends 'layout.njk' %}

{% block content %}

<div class="card">
    <section 
        class="avatar"
        style="background: url({{student.avatar_url}}) no-repeat center center / cover">
    </section>

    <section class="details">

        <form id="form-edit" method="POST" action="/students?_method=PUT">
    
            <h3>Editar Estudante</h3>

            {% include 'students/fields.njk' %}
            <input
            type="hidden"
            name="id"
            value={{student.id}}
            >
        </form>

        <form id="form-delete" action="/students/?_method=DELETE" method="post">
            <input type="hidden" name="id" value="{{student.id}}">
            <button type="submit">Deletar</button>
        </form>
    </section>
</div>
<script>
    const formDelete = document.querySelector("#form-delete");
    formDelete.addEventListener("submit", function(event){
        const confirmation = confirm("Deseja Deletar?");
        if(!confirmation){
            event.preventDefault();
        }
    })
</script>
{% include '../confirm.njk' %}

{% endblock content %}